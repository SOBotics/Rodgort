<div class="container loading-container">
  <img *ngIf="loading" class="spinner" src="../../assets/spinner.png">
</div>

<ng-container *ngIf="!loading && burns">
  <h1>Rodgort has tracked {{burns.length}} burns so far</h1>
  <a href="/progress/all">Dashboard of all burns</a>
  <div class="table-responsive">
    <table class="table mt-3">
      <thead>
        <tr>
          <th>Meta Question</th>
          <th></th>
          <th>Tag(s)</th>
          <th>Burn started</th>
          <th>Burn ended</th>
          <th>Duration</th>
          <th>Total actions</th>
          <th title="Actions per day">APD</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let burn of burns">
          <td><a href="https://meta.stackoverflow.com/q/{{burn.id}}">{{burn.title}}</a></td>
          <td><a routerLink="/progress" [queryParams]="{metaQuestionId: burn.id}">Dashboard</a></td>
          <td>
            <app-tag-bubble *ngFor="let tag of burn.tags" [tag]="tag"></app-tag-bubble>
          </td>
          <td title="{{burn.burnStarted}}">
            {{burn.burnStartedLocal}}
          </td>
          <td title={{burn.burnEnded}}>
            {{burn.burnEndedLocal || 'In Progress'}}
          </td>
          <td>
            {{burn.duration}}
          </td>
          <td>
            {{burn.numActions}}
          </td>
          <td>
            {{burn.actionsPerDay | number}}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-container>